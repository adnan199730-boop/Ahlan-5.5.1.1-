#!/bin/bash

# سكربت لإضافة رابط تحميل جديد إلى README.md مع التاريخ والوقت ورفع التحديث إلى GitHub

# ==========================
# طلب رابط التحميل من المستخدم
# ==========================
read -p "ادخل رابط التحميل: " download_link

# التحقق من أن المستخدم أدخل الرابط
if [ -z "$download_link" ]; then
  echo "خطأ: لم يتم إدخال رابط التحميل."
  exit 1
fi

# ==========================
# إنشاء التاريخ والوقت الحالي
# ==========================
current_time=$(date +"%Y-%m-%d %H:%M:%S")

# ==========================
# طلب رسالة الـ commit
# ==========================
read -p "اكتب رسالة الـ commit: " commit_message
if [ -z "$commit_message" ]; then
  commit_message="إضافة رابط تحميل جديد بتاريخ $current_time"
fi

# ==========================
# إضافة الرابط إل
# ==========================
# إضافة الرابط إلى README.md
# ==========================
echo "" >> README.md
echo "## رابط تحميل جديد" >> README.md
echo "- **التاريخ:** $current_time" >> README.md
echo "- [Download File](${download_link})" >> README.md
echo "" >> README.md

# ==========================
# تنفيذ أوامر Git
# ==========================
git add README.md
git commit -m "$commit_message"
git push origin main

# ==========================
# تأكيد العملية
# ==========================
echo "✅ تم إضافة رابط التحميل بتاريخ $current_time ورفع التغييرات إلى GitHub بنجاح!"
